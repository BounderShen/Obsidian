
#### 为什么不推荐使用外键与级联
1. 以学生和成绩的关系为例，学生表中的 student_id 是主键，那么成绩表中的 student_id 则为外键。如果更新学生表中的 student_id，同时触发成绩表中的 student_id 更新，即为级联更新。外键与级联更新适用于单机低并发，不适合分布式、高并发集群; 级联更新是强阻塞，存在数据库更新风暴的风 险; 外键影响数据库的插入速度
2. 增加了复杂性：每次做 DELETE 或者 UPDATE 都必须考虑外键约束，会导致开发的时候很痛苦, 测试数据极为不方便; b. 外键的主从关系是定的，假如那天需求有变化，数据库中的这个字段根本不需要和其他表有关联的话就会增加很多麻烦
3. 对分库分表不友好：分库分表下外键是无法生效的
##### 优点
1. 保证了数据库的一致性和完整性
2. 级联操作方便，减轻了代码程序量
#### drop、delete与truncate区别
##### 用法不同
1. drop: drop table tableName，直接将表删除掉，在删除表的时候使用
2. truncate：truncate table tableName ：只删除表中数据，再插入数据的时候自增长又从1开始
3. delete :delete from tableName where xxx.删除某一行的数据，不加where等于truncate
##### 属于不同的数据库语言
1. `truncate` 和 `drop` 属于 DDL(数据定义语言)语句，操作立即生效，原数据不放到 rollback segment 中，不能回滚，操作不触发 trigger。而 `delete` 语句是 DML (数据库操作语言)语句，这个操作会放到 rollback segement 中，事务提交之后才生效
##### 执行速度不同
1. drop > truncate > delete
2. `delete`命令执行的时候会产生数据库的`binlog`日志，而日志记录是需要消耗时间的，但是也有个好处方便数据回滚恢复。
3. `truncate`命令执行的时候不会产生数据库日志，因此比`delete`要快。除此之外，还会把表的自增值重置和索引恢复到初始大小等
4. `drop`命令会把表占用的空间全部释放掉
5. 更多地关注使用场景上，而不是执行效率
#### 数据库设计通常分为哪几步
1. 需求分析：分析用户的需求，包括数据、功能和性能需求
2. 概念结构设计：主要采用E-R模型进行设计，包括画E-R图
3. 逻辑结构设计：通过将 E-R 图转换成表，实现从 E-R 模型到关系模型的转换
4. **物理结构设计** : 主要是为所设计的数据库选择合适的存储结构和存取路径
5. 数据库实施”包括编程、测试和试运行
6. 数据库的维护和运行：系统的运行与数据库的日常维护