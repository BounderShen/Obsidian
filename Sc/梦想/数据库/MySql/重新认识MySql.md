### MySql客户端和服务器架构
### 启动MySQL服务器程序
#### UNIX里启动服务器程序
##### mysqlid
1. 这个可执行性文件就是mysql服务器程序
##### mysqlid_safe
1. 是一个启动脚本，间接启动mysqlid程序，顺便启动一个监控进程。
2. 监控进程会将服务器程序的错误信息和其他诊断信息重定向到某个文件中产生出错日志
##### mysql.server
1. mysql.server间接启动mysql.safe，在后面指定start即可
2. mysql.server是一个链接文件
#### windows里启动服务器程序
##### 以服务器运行服务器沉程序
1. net start mysql
2. net stop mysql
#### 启动Mysql客户端程序
1. mysql -h -u -p
2. -h:指的是服务器地址，本地可以直接忽略
##### 注意事项
1. 在类UNIX中，省略-u之后，会默认使用操作系统的用户名进行登录
#### 客户端与服务器连接的过程
##### TCP/IP
1. MYSQL服务器默认会使用3306端口
2. mysqlid -p3307:改变使用某个端口
##### 连接管理
1. 当客户端与服务器建立连接，服务器会创建一个线程与客户端进行交互，当断开，线程不会销毁而是缓存起来，当新的客户端发起连接把缓存的线程给新的客户端
2. 减少了创建和销毁的开销
3. 服务器会给客户端分配线程，线程多就会导致性能的下降
##### 解析与优化
###### 查询缓存
1. 同样的请求，mysql会直接将上次查询到的结果返回
2. 缓存失效：mysql的缓存系统会检测涉及到的每张表，只要表的结构或者数据被修改，那么该表的所有高速缓存查询都将变为无效且从高速缓存中删除
3. MySQL5.7后不推荐使用查询缓存，MySQL8.0直接删除
###### 语法解析
1. 查询缓存未命中，进入查询阶段
2. 对客户端的文本进行请求分析

###### 查询优化
1. 生成一个执行计划，应该使用哪些索引进行查询，表之间的连接顺序是啥样的
###### 存储引擎
1. 当完成了查询优化，只需要按照生成执行的计划调用底层存储引擎提供的API，获取到数据返回客户端即可
##### 设置表的引擎
###### 创建表时指定引擎
1. 语句后面添加：engine = 存储引擎
###### 修改表的引擎
1. alter table tableName engine = 存储引擎名称


