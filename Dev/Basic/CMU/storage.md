#### Four
##### 非易失性内存
1. 由英特尔首先生产出，名傲腾
根据PPT的问题进行学习

#### 场景分析
##### 数据库崩溃
1. 当数据库崩溃了是否有什么方式定位到崩溃的原因：checksum，我去查最后一个page页面中所计算出的checksum的值是否和预定的值不匹配

##### 写入一组数据，删除中间中的一个再插入新的

1. SQL SERVER：检测有空间会将Page变得紧凑，然后再进行写入
2. `Postgrep和Oracle`：会进行放空在后面写入

##### 为什么暴露这个API给用户

1. 可以通过存储位置进行访问元组，但是不想做，因为在任意时候，数据库系统被允许去重新组织ctid，最终会得到一个不同的`ctid`
2. 将系统内部的东西暴露出来，可以让我们清楚发生了什么

 
#### 文件存储
1. 一个页存储着所有页面的元数据
2. 不会在一个页面存储着不同类型的数据
#### 数据库页面
1. 存储设备只能保证每次写入4kb时是原子的
##### 堆文件：页面目录
Self-contained:表示的是我们需要的所有元数据都在这个page上

##### 元组存储
如果长度不是固定：想插入的位置可能就没有足够的空间去保存那个tuple
当删除元组时：元数据会告诉我们在page上的某个位置，可以写入数据或者通过对这个page进行循序扫描，然后找到能插入tuple位置

##### 槽页面
1. Slot数组将一个特定的slot映射到page上的某个偏移量上，根据偏移量找到想要的tuple，偏移量指的是：tuple的大小；slot是0还是1取决于你的起点偏移量
2. 填充page方式：从前往后对slot数组进行填充，数据则从后往前填充，在某些时候我们的数据占用了该一半大小的页面，就再也无法存入任何信息
3. 使用`vaccum full`操作这是Postgres中的一个操作用于整理数据库或者压缩，也可以对数据库进行扫描并整理碎片
###### 数据整理
1. Postgres删除后再添加会是追加写入，通过vacuum full命令会进行整理然后按顺序
2. `Sql server` :删除后再添加，还是会写入空槽

## 数据库存储下

### 日志结构文件组织
1. 追加写入日志（增删改）
2. 可以快速回滚
#### 提高读取速度
1. 建立索引，表示想找到这个元组，重新走一遍，对里面的内容进行筛选压缩，对每个记录只需要知道一条即可
2. 应用场景HBase、cassandra
#### 数据的表现
1. ⼀个tuple就是⼀个字节序列，就是⼀个字节数组
2. 基本上来讲，IEEE-754是⼀种⾏业标准，它是⼀种⽤来表示数字和CPU的规范，使用二进制补码来表示
3. 对于那些可变⻓度的类型，例如varchar，varbinary，text以及blob来说，通常情况下，它们⾥⾯都有⼀个header，它⾥⾯会保存我所保存的blob的⻓度，如果它是⼀个很⼤很⼤的值，那后⾯还会跟⼀个checksum，接着，后⾯就跟的是字节序列
4. 
#### 可变精度
1. CPU能够⾼效执⾏这些操作的指令
2. 对可变精度数字执⾏操作的速度要⽐任意精度数字快得多，但是会在高精度时显示误差: float和double
3. 硬件没有办法精确表示浮点数
##### 固定精度
1. 
#### 系统目录
#### 存储模型


