1. 避免操作系统层面的锁
2. Futex：自旋锁，
3. 多个线程间通过使用我们的hash table 来进行交互的方式是有限的
4. 与B+树不同，B+树只有当你跳到内部节点才会释放latch。B+树在你进入某个节点以及跳到下个节点前必须持有一个latch，只有进入下一个Node时，才会将前一个node的latch释放掉
5. 对于线程2的优化：场景：当一个读锁正在读，一个线程请求写锁，可以先将写锁变成读锁看是否存在
6. 找到空槽之后需要进行相关标记，
7. 在B+树中，当线程往下遍历时，线程会通过一个栈来保存它一路上所持有的latch
8. 在某个时间点，当我在一个安全的节点时，我就可以释放掉该节点之前所有的节点上的latch
9. 从性能角度优先释放上层的锁
10. 当前节点未满可以释放上层的锁
36：49